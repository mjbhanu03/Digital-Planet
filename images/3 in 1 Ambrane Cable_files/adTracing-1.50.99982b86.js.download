(()=>{function e(e,t,a,r){Object.defineProperty(e,t,{get:a,set:r,enumerable:!0,configurable:!0})}var t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire4d6f87b35465201f;t.register("idd9M",function(a,r){e(a.exports,"setupAdTracing",()=>o);var s=t("aQ6cX");let o=(e,t)=>{let{slotName:a,traceId:r,arid:o,hostDomain:i,allowedSizes:d,allowedDomains:n,queryParams:c,aPageStart:l,safeFrameSrc:p,abpStatus:T,loadAfter:u}=t,f=window[a],h=new s.Tracer(r,f&&f.adStartTime||0);e.AD_TRACERS[o]=h,e.AD_TRACERS[o].logTrace("safeFrameInput",t);let m={caches:window.caches,plugins:document.plugins,cookies:document.cookie,userAgents:navigator.userAgent};e.AD_TRACERS[o].logTrace("browserData",m);e.AD_TRACERS[o].logTrace("additionalInitilizationParams",{hostDomain:i,allowedSizes:d,allowedDomains:n,queryParams:c,aPageStart:l,adStartTime:f,safeFrameSrc:p,abpStatus:T,loadAfter:u}),h.start()}}),t.register("aQ6cX",function(t,a){e(t.exports,"Tracer",()=>r);class r{constructor(e,t=0,a={}){this.traceId=e,this.adStartTime=t,this.storedTrace=a}start(){let e=()=>{this.sendTrace(),window.setInterval(this.sendTrace,3e3)};"loading"!==document.readyState?e():window.addEventListener("load",e)}logTrace(e,t){if(this.traceId){let a;let r=new Date().getTime();!Object.prototype.hasOwnProperty.call(this.storedTrace,e)&&(this.storedTrace[e]=[]);let s=t===Object(t);(a=s?Object.assign({},t):JSON.parse('{ "'+e+'":"'+t+'"}')).timeStamp=r,a.timeSinceAdStart=r-this.adStartTime,this.storedTrace[e].push(a)}}async sendTrace(){if(!(e=>{for(let t in e)if(Object.prototype.hasOwnProperty.call(this.storedTrace,t))return!1;return!0})(this.storedTrace)){let e="/gp/adbarplus?traceId="+this.traceId+"&systemName=browser",t=await fetch(e,{method:"POST",body:JSON.stringify(this.storedTrace),headers:{"Content-Type":"application/x-www-form-urlencoded"}});if(t.ok)for(let e in this.storedTrace)Object.prototype.hasOwnProperty.call(this.storedTrace,e)&&delete this.storedTrace[e];else console.error("failed to send request to /gp/adbarplus",t)}}}})})();
//# sourceMappingURL=adTracing-1.50.99982b86.js.map
